{"ast":null,"code":"import _toConsumableArray from \"/home/niveus/3d walk/x/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/home/niveus/3d walk/x/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"/home/niveus/3d walk/x/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"box\", \"multiple\", \"children\", \"onChange\", \"border\", \"backgroundColor\", \"filter\"];\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { SelectionBox } from 'three-stdlib';\nimport { useThree } from '@react-three/fiber';\nimport shallow from 'zustand/shallow';\nvar context = /*#__PURE__*/React.createContext([]);\n\nfunction Select(_ref) {\n  var box = _ref.box,\n      multiple = _ref.multiple,\n      children = _ref.children,\n      onChange = _ref.onChange,\n      _ref$border = _ref.border,\n      border = _ref$border === void 0 ? '1px solid #55aaff' : _ref$border,\n      _ref$backgroundColor = _ref.backgroundColor,\n      backgroundColor = _ref$backgroundColor === void 0 ? 'rgba(75, 160, 255, 0.1)' : _ref$backgroundColor,\n      _ref$filter = _ref.filter,\n      customFilter = _ref$filter === void 0 ? function (item) {\n    return item;\n  } : _ref$filter,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  // @ts-expect-error new in @react-three/fiber@7.0.5\n  var _useThree = useThree(),\n      camera = _useThree.camera,\n      raycaster = _useThree.raycaster,\n      gl = _useThree.gl,\n      controls = _useThree.controls,\n      size = _useThree.size,\n      get = _useThree.get;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      hovered = _React$useState2[0],\n      hover = _React$useState2[1];\n\n  var _React$useReducer = React.useReducer(function (state, _ref2) {\n    var object = _ref2.object,\n        shift = _ref2.shift;\n    if (object === undefined) return [];else if (Array.isArray(object)) return object;else if (!shift) return state[0] === object ? [] : [object];else if (state.includes(object)) return state.filter(function (o) {\n      return o !== object;\n    });else return [object].concat(_toConsumableArray(state));\n  }, []),\n      _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n      active = _React$useReducer2[0],\n      dispatch = _React$useReducer2[1];\n\n  React.useEffect(function () {\n    return void (onChange == null ? void 0 : onChange(active));\n  }, [active]);\n  var onClick = React.useCallback(function (e) {\n    e.stopPropagation();\n    dispatch({\n      object: customFilter([e.object])[0],\n      shift: multiple && e.shiftKey\n    });\n  }, []);\n  var onPointerMissed = React.useCallback(function (e) {\n    return !hovered && dispatch({});\n  }, [hovered]);\n  var ref = React.useRef(null);\n  React.useEffect(function () {\n    if (!box || !multiple) return;\n    var selBox = new SelectionBox(camera, ref.current);\n    var element = document.createElement('div');\n    element.style.pointerEvents = 'none';\n    element.style.border = border;\n    element.style.backgroundColor = backgroundColor;\n    element.style.position = 'fixed';\n    var startPoint = new THREE.Vector2();\n    var pointTopLeft = new THREE.Vector2();\n    var pointBottomRight = new THREE.Vector2();\n    var oldRaycasterEnabled = raycaster.enabled;\n    var oldControlsEnabled = controls == null ? void 0 : controls.enabled;\n    var isDown = false;\n\n    function prepareRay(event, vec) {\n      var _raycaster$computeOff; // https://github.com/pmndrs/react-three-fiber/pull/782\n      // Events trigger outside of canvas when moved\n\n\n      var _ref3 = (_raycaster$computeOff = raycaster.computeOffsets == null ? void 0 : raycaster.computeOffsets(event, get())) !== null && _raycaster$computeOff !== void 0 ? _raycaster$computeOff : event,\n          offsetX = _ref3.offsetX,\n          offsetY = _ref3.offsetY;\n\n      var width = size.width,\n          height = size.height;\n      vec.set(offsetX / width * 2 - 1, -(offsetY / height) * 2 + 1);\n    }\n\n    function onSelectStart(event) {\n      var _gl$domElement$parent;\n\n      if (controls) controls.enabled = false;\n      raycaster.enabled = false;\n      isDown = true;\n      (_gl$domElement$parent = gl.domElement.parentElement) == null ? void 0 : _gl$domElement$parent.appendChild(element);\n      element.style.left = \"\".concat(event.clientX, \"px\");\n      element.style.top = \"\".concat(event.clientY, \"px\");\n      element.style.width = '0px';\n      element.style.height = '0px';\n      startPoint.x = event.clientX;\n      startPoint.y = event.clientY;\n    }\n\n    function onSelectMove(event) {\n      pointBottomRight.x = Math.max(startPoint.x, event.clientX);\n      pointBottomRight.y = Math.max(startPoint.y, event.clientY);\n      pointTopLeft.x = Math.min(startPoint.x, event.clientX);\n      pointTopLeft.y = Math.min(startPoint.y, event.clientY);\n      element.style.left = \"\".concat(pointTopLeft.x, \"px\");\n      element.style.top = \"\".concat(pointTopLeft.y, \"px\");\n      element.style.width = \"\".concat(pointBottomRight.x - pointTopLeft.x, \"px\");\n      element.style.height = \"\".concat(pointBottomRight.y - pointTopLeft.y, \"px\");\n    }\n\n    function onSelectOver() {\n      if (isDown) {\n        var _element$parentElemen;\n\n        if (controls) controls.enabled = oldControlsEnabled;\n        raycaster.enabled = oldRaycasterEnabled;\n        isDown = false;\n        (_element$parentElemen = element.parentElement) == null ? void 0 : _element$parentElemen.removeChild(element);\n      }\n    }\n\n    function pointerDown(event) {\n      if (event.shiftKey) {\n        onSelectStart(event);\n        prepareRay(event, selBox.startPoint);\n      }\n    }\n\n    var previous = [];\n\n    function pointerMove(event) {\n      if (isDown) {\n        onSelectMove(event);\n        prepareRay(event, selBox.endPoint);\n        var allSelected = selBox.select().sort(function (o) {\n          return o.uuid;\n        }).filter(function (o) {\n          return o.isMesh;\n        });\n\n        if (!shallow(allSelected, previous)) {\n          previous = allSelected;\n          dispatch({\n            object: customFilter(allSelected)\n          });\n        }\n      }\n    }\n\n    function pointerUp(event) {\n      if (isDown) onSelectOver();\n    }\n\n    document.addEventListener('pointerdown', pointerDown, {\n      passive: true\n    });\n    document.addEventListener('pointermove', pointerMove, {\n      passive: true,\n      capture: true\n    });\n    document.addEventListener('pointerup', pointerUp, {\n      passive: true\n    });\n    return function () {\n      document.removeEventListener('pointerdown', pointerDown);\n      document.removeEventListener('pointermove', pointerMove);\n      document.removeEventListener('pointerup', pointerUp);\n    };\n  }, [size, raycaster, camera, controls, gl]);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: ref,\n    onClick: onClick,\n    onPointerOver: function onPointerOver() {\n      return hover(true);\n    },\n    onPointerOut: function onPointerOut() {\n      return hover(false);\n    },\n    onPointerMissed: onPointerMissed\n  }, props), /*#__PURE__*/React.createElement(context.Provider, {\n    value: active\n  }, children));\n}\n\nfunction useSelect() {\n  return React.useContext(context);\n}\n\nexport { Select, useSelect };","map":{"version":3,"names":["_extends","React","THREE","SelectionBox","useThree","shallow","context","createContext","Select","box","multiple","children","onChange","border","backgroundColor","filter","customFilter","item","props","camera","raycaster","gl","controls","size","get","useState","hovered","hover","useReducer","state","object","shift","undefined","Array","isArray","includes","o","active","dispatch","useEffect","onClick","useCallback","e","stopPropagation","shiftKey","onPointerMissed","ref","useRef","selBox","current","element","document","createElement","style","pointerEvents","position","startPoint","Vector2","pointTopLeft","pointBottomRight","oldRaycasterEnabled","enabled","oldControlsEnabled","isDown","prepareRay","event","vec","_raycaster$computeOff","computeOffsets","offsetX","offsetY","width","height","set","onSelectStart","_gl$domElement$parent","domElement","parentElement","appendChild","left","clientX","top","clientY","x","y","onSelectMove","Math","max","min","onSelectOver","_element$parentElemen","removeChild","pointerDown","previous","pointerMove","endPoint","allSelected","select","sort","uuid","isMesh","pointerUp","addEventListener","passive","capture","removeEventListener","onPointerOver","onPointerOut","Provider","value","useSelect","useContext"],"sources":["/home/niveus/3d walk/x/node_modules/@react-three/drei/web/Select.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { SelectionBox } from 'three-stdlib';\nimport { useThree } from '@react-three/fiber';\nimport shallow from 'zustand/shallow';\n\nconst context = /*#__PURE__*/React.createContext([]);\nfunction Select({\n  box,\n  multiple,\n  children,\n  onChange,\n  border = '1px solid #55aaff',\n  backgroundColor = 'rgba(75, 160, 255, 0.1)',\n  filter: customFilter = item => item,\n  ...props\n}) {\n  // @ts-expect-error new in @react-three/fiber@7.0.5\n  const {\n    camera,\n    raycaster,\n    gl,\n    controls,\n    size,\n    get\n  } = useThree();\n  const [hovered, hover] = React.useState(false);\n  const [active, dispatch] = React.useReducer((state, {\n    object,\n    shift\n  }) => {\n    if (object === undefined) return [];else if (Array.isArray(object)) return object;else if (!shift) return state[0] === object ? [] : [object];else if (state.includes(object)) return state.filter(o => o !== object);else return [object, ...state];\n  }, []);\n  React.useEffect(() => void (onChange == null ? void 0 : onChange(active)), [active]);\n  const onClick = React.useCallback(e => {\n    e.stopPropagation();\n    dispatch({\n      object: customFilter([e.object])[0],\n      shift: multiple && e.shiftKey\n    });\n  }, []);\n  const onPointerMissed = React.useCallback(e => !hovered && dispatch({}), [hovered]);\n  const ref = React.useRef(null);\n  React.useEffect(() => {\n    if (!box || !multiple) return;\n    const selBox = new SelectionBox(camera, ref.current);\n    const element = document.createElement('div');\n    element.style.pointerEvents = 'none';\n    element.style.border = border;\n    element.style.backgroundColor = backgroundColor;\n    element.style.position = 'fixed';\n    const startPoint = new THREE.Vector2();\n    const pointTopLeft = new THREE.Vector2();\n    const pointBottomRight = new THREE.Vector2();\n    const oldRaycasterEnabled = raycaster.enabled;\n    const oldControlsEnabled = controls == null ? void 0 : controls.enabled;\n    let isDown = false;\n\n    function prepareRay(event, vec) {\n      var _raycaster$computeOff;\n\n      // https://github.com/pmndrs/react-three-fiber/pull/782\n      // Events trigger outside of canvas when moved\n      const {\n        offsetX,\n        offsetY\n      } = (_raycaster$computeOff = raycaster.computeOffsets == null ? void 0 : raycaster.computeOffsets(event, get())) !== null && _raycaster$computeOff !== void 0 ? _raycaster$computeOff : event;\n      const {\n        width,\n        height\n      } = size;\n      vec.set(offsetX / width * 2 - 1, -(offsetY / height) * 2 + 1);\n    }\n\n    function onSelectStart(event) {\n      var _gl$domElement$parent;\n\n      if (controls) controls.enabled = false;\n      raycaster.enabled = false;\n      isDown = true;\n      (_gl$domElement$parent = gl.domElement.parentElement) == null ? void 0 : _gl$domElement$parent.appendChild(element);\n      element.style.left = `${event.clientX}px`;\n      element.style.top = `${event.clientY}px`;\n      element.style.width = '0px';\n      element.style.height = '0px';\n      startPoint.x = event.clientX;\n      startPoint.y = event.clientY;\n    }\n\n    function onSelectMove(event) {\n      pointBottomRight.x = Math.max(startPoint.x, event.clientX);\n      pointBottomRight.y = Math.max(startPoint.y, event.clientY);\n      pointTopLeft.x = Math.min(startPoint.x, event.clientX);\n      pointTopLeft.y = Math.min(startPoint.y, event.clientY);\n      element.style.left = `${pointTopLeft.x}px`;\n      element.style.top = `${pointTopLeft.y}px`;\n      element.style.width = `${pointBottomRight.x - pointTopLeft.x}px`;\n      element.style.height = `${pointBottomRight.y - pointTopLeft.y}px`;\n    }\n\n    function onSelectOver() {\n      if (isDown) {\n        var _element$parentElemen;\n\n        if (controls) controls.enabled = oldControlsEnabled;\n        raycaster.enabled = oldRaycasterEnabled;\n        isDown = false;\n        (_element$parentElemen = element.parentElement) == null ? void 0 : _element$parentElemen.removeChild(element);\n      }\n    }\n\n    function pointerDown(event) {\n      if (event.shiftKey) {\n        onSelectStart(event);\n        prepareRay(event, selBox.startPoint);\n      }\n    }\n\n    let previous = [];\n\n    function pointerMove(event) {\n      if (isDown) {\n        onSelectMove(event);\n        prepareRay(event, selBox.endPoint);\n        const allSelected = selBox.select().sort(o => o.uuid).filter(o => o.isMesh);\n\n        if (!shallow(allSelected, previous)) {\n          previous = allSelected;\n          dispatch({\n            object: customFilter(allSelected)\n          });\n        }\n      }\n    }\n\n    function pointerUp(event) {\n      if (isDown) onSelectOver();\n    }\n\n    document.addEventListener('pointerdown', pointerDown, {\n      passive: true\n    });\n    document.addEventListener('pointermove', pointerMove, {\n      passive: true,\n      capture: true\n    });\n    document.addEventListener('pointerup', pointerUp, {\n      passive: true\n    });\n    return () => {\n      document.removeEventListener('pointerdown', pointerDown);\n      document.removeEventListener('pointermove', pointerMove);\n      document.removeEventListener('pointerup', pointerUp);\n    };\n  }, [size, raycaster, camera, controls, gl]);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: ref,\n    onClick: onClick,\n    onPointerOver: () => hover(true),\n    onPointerOut: () => hover(false),\n    onPointerMissed: onPointerMissed\n  }, props), /*#__PURE__*/React.createElement(context.Provider, {\n    value: active\n  }, children));\n}\nfunction useSelect() {\n  return React.useContext(context);\n}\n\nexport { Select, useSelect };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}